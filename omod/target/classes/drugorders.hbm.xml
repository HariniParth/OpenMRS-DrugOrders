<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<hibernate-mapping package="org.openmrs.module.drugorders">

    <class name="drugorders" table="drug_order_extension">
        <id name="id" type="int" column="id" unsaved-value="0">
            <generator class="native" />
        </id>
        <discriminator column="id" insert="false" />
        <property name="orderId" column="order_id" not-null="false" ></property>
        <property name="groupid" column="groupid" not-null="false" ></property>
        <property name="uuid" type="java.lang.String" column="uuid" length="38" unique="true" ></property>
        <property name="patientid" type="java.lang.String" column="patientid" ></property>
        <many-to-one name="drugname" class="org.openmrs.Concept" column="drugname" />
        <property name="startdate" type="java.util.Date" column="startdate" ></property> 
        <property name="isallergic" column="isallergic" ></property>
        <property name="isallergicorderreasons" type="java.lang.String" column="isallergicorderreasons" ></property>
        <property name="orderstatus" type="java.lang.String" column="orderstatus" ></property>
        <property name="onHold" column="onHold" not-null="false" ></property>
        <property name="forDiscard" column="forDiscard" not-null="false" ></property>
        <property name="refill" column="refill" ></property>
        <property name="refillinterval" column="refillinterval" ></property>
        <many-to-one name="priority" class="org.openmrs.Concept" column="priority" />
        <many-to-one name="discontinuereason" class="org.openmrs.Concept" column="discontinuereason" />
        <property name="discontinuationreasons" type="java.lang.String" column="discontinuationreasons" ></property>
        <many-to-one name="associateddiagnosis" class="org.openmrs.Concept" column="associateddiagnosis" />
        <property name="patientinstructions" type="java.lang.String" column="patientinstructions" length="255" ></property> 
        <property name="pharmacistinstructions" type="java.lang.String" column="pharmacistinstructions" length="255" ></property>
        <property name="lastdispatchdate" type="java.util.Date" column="lastdispatchdate" ></property>
        <property name="drugexpirydate" type="java.util.Date" column="drugexpirydate" ></property> 
        <property name="comments" type="java.lang.String" column="comments" length="255"></property> 

    </class>

    <class name="medicationplans" table="standard_disease_plan">

        <id name="id" type="int" column="id" unsaved-value="0">
            <generator class="native" />
        </id>
        <discriminator column="id" insert="false" />
        <property name="uuid" type="java.lang.String" column="uuid" length="38" unique="true" ></property>
        <many-to-one name="diseaseid" class="org.openmrs.Concept" column="diseaseid" />
        <many-to-one name="drugid" class="org.openmrs.Concept" column="drugid" />
        <property name="dose" type="java.lang.Double" length="10" column="dose" ></property>
        <many-to-one name="doseunits" class="org.openmrs.Concept" column="doseunits" />
        <property name="quantity" type="java.lang.Double" length="10" column="quantity" ></property>
        <many-to-one name="quantityunits" class="org.openmrs.Concept" column="quantityunits" />
        <property name="duration" column="duration" ></property>
        <many-to-one name="durationunits" class="org.openmrs.Concept" column="durationunits" />
        <many-to-one name="route" class="org.openmrs.Concept" column="route" />
        <many-to-one name="frequency" class="org.openmrs.OrderFrequency" column="frequency" />

    </class>
    
    <class name="drugordersdiseases" table="drug_order_diseases">

        <id name="id" type="int" column="id" unsaved-value="0">
            <generator class="native" />
        </id>
        <discriminator column="id" insert="false" />
        <property name="planid" column="planid" not-null="false" ></property>
        <property name="orderid" column="orderid" not-null="false" ></property>
        <property name="patientid" type="java.lang.String" column="patientid" ></property>
        <property name="uuid" type="java.lang.String" column="uuid" length="38" unique="true" ></property>
        <many-to-one name="diseaseid" class="org.openmrs.Concept" column="diseaseid" />
    </class>
    
</hibernate-mapping>
